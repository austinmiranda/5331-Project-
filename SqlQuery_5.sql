DROP TABLE [dbo].[UserClaim]
DROP TABLE [dbo].[UserLogin]
DROP TABLE [dbo].[UserRole]
DROP TABLE [dbo].[Role]
DROP TABLE [dbo].[User]
CREATE TABLE [dbo].[Role] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.Role] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[Role]([Name])
CREATE TABLE [dbo].[UserRole] (
    [UserId] [int] NOT NULL,
    [RoleId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.UserRole] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserRole]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[UserRole]([RoleId])
CREATE TABLE [dbo].[User] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [Phone] [nvarchar](max),
    [Address] [nvarchar](max),
    [Company] [nvarchar](max),
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.User] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[User]([UserName])
CREATE TABLE [dbo].[UserClaim] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [int] NOT NULL,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    CONSTRAINT [PK_dbo.UserClaim] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserClaim]([UserId])
CREATE TABLE [dbo].[UserLogin] (
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    [UserId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.UserLogin] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserLogin]([UserId])
ALTER TABLE [dbo].[UserRole] ADD CONSTRAINT [FK_dbo.UserRole_dbo.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Role] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserRole] ADD CONSTRAINT [FK_dbo.UserRole_dbo.User_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[User] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserClaim] ADD CONSTRAINT [FK_dbo.UserClaim_dbo.User_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[User] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserLogin] ADD CONSTRAINT [FK_dbo.UserLogin_dbo.User_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[User] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201811021731478_newDb', N'SocialMarketplace.Migrations.Configuration',  0x1F8B0800000000000400ED5DDB6EE3B819BE2FD0771074D516593B87CE601AD8BBC83A491B74920CC69945EF06B4443BC2489457A2B2098A7DB25EF491FA0A2525EAC093441D6C39836081452C92FF891FC99F3FC97FFEF79FFFCE7E7A0E7CEB0946B117A2B97D3239B62D889CD0F5D0666E2778FDC307FBA71FFFF887D9951B3C5BBFE4F5CE683DD212C573FB11E3EDF9741A3B8F3000F124F09C288CC3359E386130056E383D3D3EFEDBF4E4640A09099BD0B2ACD9E704612F80E90FF2731122076E7102FCDBD0857ECCBE9392654AD5BA03018CB7C081737B193A1EA907A26F106F7DF26992B5B1AD0BDF03449E25F4D7B605100A31C044DAF32F315CE228449BE5967C00FEC3CB16927A6BE0C79069715E563755E8F8942A342D1BE6A49C24C661D092E0C919B3D0546CDEC9CE76614162C32B626BFC42B54EED38B717298BCFA14FD417D99D2FFC8856D51B7A52363FB2A44A4705480896E87F47D622F17112C13982098E807F647D4A56BEE7FC13BE3C84DF209AA3C4F7AB0213914919F7817CFA14855B18E197CF70CDD4B8716D6BCAB79B8A0D8B669536997A37089F9DDAD61D610E563E2CF05031C5128711FC3B44300218BA9F00C6304294064C2D2A711778D1FFE7DC0800C988B2AD5BF0FC11A20D7E9CDBA7EFDEDBD6B5F70CDDFC0B93E00BF2C800248D709440858402D73BF0E46D528105FE04F71119169FA19F96C68FDE361B1D951EFCCA2A5D47D9EF2A38B2B2AFCB30891CAA48A8A9F000A20DC4BC5CB369893A032C52423DF19893181793540A1997CAAA54D82E10CE59D4C3B81E9A396F731AC61D4AC5EBD48DB4E1DB84D26342217F1A4D28F54C3E3D8668F75C2E5C378271BC733E8B30D802F4B2733E5701F0FC01267B032EC4595A7B51000BE0FD1C92D10C50EB49E01388E3DFC2C8FD07881F776EA025749288607C8941B0DD0F88EF926045E7A2FDF11AAC6B1E7E0BAF8143668B2B445BF5A6F73174BE8509BE42EE259979BE602727487F3E7881398141C4B9701C32F8AF0998A1BB08C95EA0DF6A46578EB19DAD850FBC40ED6D51F1BEE6E5A5A355F92CF958D532957B5527C9C770E3A11A49F2724192ECB35A1256D656124AA14610562CC8917E558B91150DE46EA6D6EDE96FA634DE7C965D7BABA9992981DDBB0B94D32FC04F8666D501A0E9A0EB09D094C6B8004D45209F9F3C972EC6061BA3BC32216F545FBDE76A1E068264DAFE3E39FD30C8DA21FA0D5535F7CDBCFDB03446703E3334EDE76F8B00D645BCBD837892379C6424AF23428EF8A7DF26558A479671BB12E4A7A6203F3B59ADCF3EBC7B0FDCB3F77F8567EFF63F23EF0F02BBD94D76884655BB578E47C9A59273A0A8D2CB49C8E99944A5DAA3B80C541D3A92D511AA41E7603E1035D6FCB72BBE9D10D7B8EE77831C73050E1D736FEE8286FD01B90B07355C1AF771DD860BDBDA1DFA70795DDBBFDDEEDBBECF1DE2451CD3DD1BED0CE9F896794BBCC057C8B59A8EF232C1F9A340A20101ACB72510256290216D8BF0BB4797D087185A174E76B0BD00B1035CD9664415D758A8DC5593842ADD2F5EB0BF48FCC87880110524A0D1F1988C360F6179F078C8F1B6C06FB08ED0CE70D851AD0B0E62C925DC4244474C830D4C586B9DB269C145E88C26EBCCA6158CD543AF1ACAD475B032AE59F66D763EB817A8A9A2A84A94B1356427305398630F0853A86EC2557B7CBD3770B1E8746D978AA1EAF1C02504C695E062FEFCEEC0C59B635FE0E2557F1DE0CA4E1C6A7B54387E180F5AFC61C7BE1747D916FBC215A7F7C1C34A11BBD2F56A5D20ABEC5D3E7ACAF7EDF1647222756F2D03057CE4E0562D80B4B6C8BC55623F4CAC07A3FC64774B09A5952F57B4103E63C5E68C3067FBB398F9C2A25294F81262FE24B1F49015DEAB64179E043F6CF4C44ABB341064914A894C3651184B931F0CD788C3DC136392F9096F0D49B6283590AC224A458F07AB21B1BA2E90C1D982A8566D4574AD05596D0729A21002D9CAD011FBA91AECAE54D35DD014E736834D5EA153317CA419D2605756A1228D207149E3D5353005773342B68276B7D1B8DFA848CD6C5CA3BB6A9BA0543B977418BD73B86AF45639C28DAE707BBD050F56A9772EE9307A33F068D456B8684D4E5A7BA579DF6AA710571D6EC9AA37B911A68E44451561EEAE31498DDFA0A0D7C538796CABF0168AB2D9347BE1C13ECCA69AA720B35BB0DD7A6853791AC2BE58CBEC5DC8E28765FBA712414663EA70F6167D9B82130E23B0814229BD64EAC26B2F8AF125C0600568A06FE1065235A56FA45987729655F747EEC17C41CA6BD3BFD975CBE6C71B0AE79AD1B9265A06D42D4F83BFD2F05037B6E8631DE08348116D5E847E1220FD1E41DF3A3BA4AEB6CFBEC8146653417A693B20D94BDA91F1C637EA1A71C618B0930A27A86B47E909E8CC9DEFA5AA06D7EDAFF454F21065958A2E6C395AC7E966D90EDD957AFCED3B49DD6CEC71A4A3C0DE055449B04FE6348A5BFF552AC547733AC5ADFE2A9DE2A3391D766BBF4A857D6A49A372F15B2256296B616DEE6E3E6774AEC49CA27001BF4A52286A8989FC9ABD848CBCA0133D8D45D535CC39C817EBABD4E55273CA8A2BF655D28AE20EB415328B652D46A37C0B9F1B9772B139EDF24ABEB8941CECFAADDD68F65AC0B3C0409F155C436137EBC4300E40E5389E9BA1CBCF2D69B103778918FB7E8068D26EDF7BA1298B5EF5419386827EE6E12E3DF1134FED4D2D3D4DEE261337B9D7DDE4D2D36B87D99190C16FC7078105177D6D8F89FAE663BBA12377D3C01B3A29AEDDBDBBDA6FEADA6DC7BE8B5136F40C2C9F20F4EBC0B759787C7C0CE9EFC94741FDF0F1E6F31DA0CFC787B7F5CB7B1EE66FB984E7CDDA4EFC34922FE1417742201BCD10501582EACB1615293A09A8BDF1314488B137EE6BF55B84C8F5D24B213731BD4B5D5CF76D6142F1F44446A07488225629F05F1CA6088726337680D19C644B3AD1C8AAD856BE38104CBFC41806135A61B2FCD55FF81EA42182BCC22D40DE1AC638BBEA6E9F1E9F9C0A19BA0E275BD6348E5D5F7100A44E99C577DB1E6EE97BD4AE8DF7F07BBCFE434F20721E812A6DCF0D72E1F3DCFE77DAEA3C3D30A47FA59F8F08DCBF20EFD784143C4409B47E97532E0CF3DEA331495421E6EFAF226953DAA34DB6BEF9D7D7ACD591751F9111756E1D530BF7CAF464CA386BD58271BBF450DFEF10FA53009EFF5CA5D43AE5522F4A425AA55EB484D449BD6871E991CAE9463F5B74CF86B4F2F02099907AE9ABCC76D41F237C46A3A1E80D62425DC6A22EB4B4D98A5CF213A7D98ADA29ABCE5ED445346DE6A27486E999B7C87C1DCE5B8EB60E2B36A8AF761E1F6D6D965E2DF69BAFA597892DC80D989FA69F2FF6CADE7F2BD7B2F43174FFE7DD83D1DE13C0BB6588D9FB1C3298593BFA7F43A621E937D6F69EDF6347881E8CAC14A369BB2E936123D0E0C78F5EBE8170F23629BFCE49B923D9413366F4C3C8C13B76FD9DABC376D50649147108B921CAF56EBC9410FBCB02517325E095267F18EBD9B4F46072945C0FFB458EEEB0F9C09E496B5FB41D1C749803354A2687FD4247778FE510A1D39CB8617CE48CB364ED1F37C68BD5A8B0E9989861E85C0C4A60B44CC1D0151A0DF743078788C1254715CFC69B2583A345B847519C7789AF38C5CEE5730454BDE3D22357B8CED9DD89B9EDAE420283CCADCFB209AADFD1AA199560D1302B2BE819EA1FEF8A4CB3295462957D5631C84A8C55616E588D2EAC46BD329A27F97ABE6C0DAFE1CB6AD4F3D53C8917F9F23388C4942F5671EC9459C328B186AE0FBBA5DD30CBBAA1E3D9312987594E0E1DD34348D9A1483EA0B27FADC72151D0F6E288093AA42C0D862A72FDAC7C183590924364E3E8AA24378294EF750652B27FEA8DAE2AEE1EAA3B4EB4A1CDAD516B00DDCCACBED86B6E84160935E43B9FC473AAFCF3ABC48D8BBD4D4982DE6645D0E17CA6A2CE0D5A87B90F2748945711429DB710039738541711F6D6C0C1A498DEA04833E6A611507A8F6705DD1B749FE06D8289CA3058F9DCA9017501EBF8A75943789967F7DBF45F1918420522A6476F9EDCA39F13CF770BB9AF15F1780D09EA5BB2C036ED4B4C03DC9B9782D29DF48E5E478899AF70891F60B0F509B1F81E2DC113EC221B81DF47B801CE4B798CA223D2DC11BCD967971ED8442088198DB23DF94930EC06CF3FFE1F7ADC13BD85780000 , N'6.2.0-61023')

